(this.webpackJsonpccsa=this.webpackJsonpccsa||[]).push([[0],{127:function(e,t,r){},141:function(e,t,r){"use strict";r.r(t);var n,s,a,i,o,c,d,l,p,g,x,u,h,O,j,b,m,k,f=r(0),U=r(23),w=r.n(U),I=r(7),y=r(18),L=r.n(y),v=r(30),C=r(5),S=r(49),z=r.n(S),E=(r(127),r(70)),N=r(87),_=r(19),B=r(20),J=B.a.div(n||(n=Object(_.a)(["\n  margin: 50px auto;\n  width: 1500px;\n  height: 800px;\n  border: 2px solid black;\n  border-radius: 20px;\n  display: flex;\n  flex-direction: row;\n  align-items: center;\n  canvas {\n    width: 256px;\n    height: 256px;\n    border: 2px solid black;\n  }\n"]))),K=B.a.div(s||(s=Object(_.a)(["\n  width: 750px;\n  height: 750px;\n  border-right: 2px solid gray;\n  padding-right: 5px;\n  /* border-radius: 20px; */\n  display: flex;\n  flex-direction: row;\n  flex-wrap: wrap;\n  align-items: flex-start;\n  justify-content: center;\n"]))),R=B.a.div(a||(a=Object(_.a)(["\n  margin-left: auto;\n  width: 800px;\n  height: 750px;\n  /* border: 2px solid black; */\n  display: flex;\n  flex-direction: row;\n  justify-content: center;\n  flex-wrap: wrap;\n"]))),X=B.a.div(i||(i=Object(_.a)(["\n  margin: 0 20px;\n  /* border: 1px solid red; */\n  /* border-top: 1px solid #C0C0C0; */\n  display: flex;\n  flex-direction: row;\n  justify-content: center;\n  align-items: center;\n  .text {\n    font-size : 25px;\n  }\n"]))),V=B.a.div(o||(o=Object(_.a)(["\n  display: flex;\n  flex-direction: row;\n  flex-wrap: wrap;\n  justify-content: center;\n  margin-top: 10px;\n  border-bottom: #C0C0C0;\n  width: 650px;\n  border: 1px solid black;\n  border-radius: 10px;\n  border-bottom: 1px solid white;\n"]))),Z=B.a.div(c||(c=Object(_.a)(["\n  width: 650px;\n  height: 600px;\n  border: 1px solid black;\n  border-radius: 10px;\n  display: flex;\n  flex-direction: row;\n  justify-content: center;\n"]))),F=B.a.div(d||(d=Object(_.a)(["\n  width: 300px;\n  /* border: 1px solid blue; */\n"]))),P=B.a.div(l||(l=Object(_.a)(["\n  margin: 20px;\n  width: 250px;\n  border: 1px solid gray;\n  border-radius: 5px;\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n"]))),D=B.a.div(p||(p=Object(_.a)(["\n  width: 300px;\n  height: 300px;\n  border: 1px solid gray;\n  border-radius: 5px;\n  position: relative;\n  canvas {\n    width: 256px;\n    height: 256px;\n    margin: 22px;\n    border: 0;\n  }\n  img {\n    width: 256px;\n    height: 256px;\n    border: 1px solid red;\n    margin: 22px;\n    z-index: -1;\n  }\n"]))),G=B.a.div(g||(g=Object(_.a)(["\n  margin-top: 20px;\n  width: 256px;\n  display: flex;\n  flex-direction: row;\n  flex-wrap: wrap;\n  justify-content: center;\n  align-items: center;\n  Button {\n    margin: 5px;\n  }\n"]))),H=(B.a.div(x||(x=Object(_.a)(["\n  width: 45px;\n  height: 45px;\n  border: 2px solid #1890ff;\n  img {\n    margin: 0;\n    width: 100%;\n    height: 100%;\n  }\n  \n"]))),B.a.div(u||(u=Object(_.a)(["\n  margin: 20px;\n"]))),B.a.span(h||(h=Object(_.a)(["\n  font-size: 25px;\n"])))),M=B.a.span(O||(O=Object(_.a)(["\n  font-size: 20px;\n"]))),T=B.a.span(j||(j=Object(_.a)(["\n  font-size: 20px;\n  font-weight: normal;\n"]))),W=B.a.div(b||(b=Object(_.a)(["\n  width: 140px;\n  height: 140px;\n  border: 1px solid #1890FF;\n"]))),Y=B.a.div(m||(m=Object(_.a)(["\n  display: flex;\n  flex-direction: row;\n  justify-content: space-between;\n"]))),q=B.a.div(k||(k=Object(_.a)(["\n  margin-top: 20px;\n  height: auto;\n  width: 648px;\n"]))),A=r(151),Q=r(147),$=r(146),ee=r(104),te=r(145),re=r(152),ne=r(149),se=r(148),ae=r(150),ie=r(101),oe=r(153),ce=r(6),de=function(){document.addEventListener("keydown",(function(e){switch(e.code){case"KeyZ":console.log("Z");break;case"KeyX":console.log("X");break;case"KeyC":console.log("C");break;case"KeyV":console.log("V")}}))},le=function(e){return Object(ce.jsx)(T,{children:e})},pe=function(e,t){var r=e.strokeOrderLength;return Object(ce.jsxs)(A.b,{style:{width:"650px",padding:"20px",border:"1px solid black",borderRadius:"10px",borderTop:"1px solid white"},title:Object(ce.jsxs)(Y,{children:[Object(ce.jsxs)(H,{children:["\u5f53\u524d\u7b14\u753b\u4fe1\u606f\uff1a","".concat(e.id," - ").concat(e.name)," "]}),Object(ce.jsxs)("div",{children:[le("\u5173\u952e\u70b9\u6807\u8bb0\u8fdb\u5ea6[".concat(t,"/").concat(r,"]: ")),Object(ce.jsx)(Q.a,{percent:t/r*100,steps:r,showInfo:!1})]})]}),bordered:!0,children:[Object(ce.jsx)(A.b.Item,{label:le("\u7b14\u753b\u793a\u610f\u56fe"),children:Object(ce.jsx)(W,{children:Object(ce.jsx)($.a,{src:"/assets/stroke-example/".concat(e.strokeOrderImageUrl)})})}),Object(ce.jsx)(A.b.Item,{label:le("\u8282\u70b9\u5206\u5e03\u56fe"),span:2,children:Object(ce.jsx)(W,{children:Object(ce.jsx)($.a,{src:"/assets/stroke-order/".concat(e.strokeOrderImageUrl)})})})]})},ge=function(){var e={};return N.a.forEach((function(t){e[t.id]=t.fileName})),e},xe=function(){var e=Object(f.useRef)(null),t=Object(f.useState)({}),r=Object(C.a)(t,2),n=r[0],s=r[1],a=Object(f.useState)({}),i=Object(C.a)(a,2),o=i[0],c=i[1],d=Object(f.useState)({}),l=Object(C.a)(d,2),p=l[0],g=l[1],x=Object(f.useState)(1),u=Object(C.a)(x,2),h=u[0],O=u[1],j=Object(f.useState)(!1),b=Object(C.a)(j,2),m=b[0],k=b[1],U=Object(f.useState)({}),w=Object(C.a)(U,2),y=w[0],S=w[1],N=Object(f.useState)({}),_=Object(C.a)(N,2),B=_[0],W=_[1],A=Object(f.useState)([]),$=Object(C.a)(A,2),le=$[0],xe=$[1],ue=Object(f.useState)([]),he=Object(C.a)(ue,2),Oe=he[0],je=he[1],be=Object(f.useState)([]),me=Object(C.a)(be,2),ke=me[0],fe=me[1],Ue=Object(f.useState)(!0),we=Object(C.a)(Ue,2),Ie=we[0],ye=we[1],Le=Object(f.useState)(!0),ve=Object(C.a)(Le,2),Ce=ve[0],Se=ve[1],ze=Object(f.useState)(!0),Ee=Object(C.a)(ze,2),Ne=Ee[0],_e=Ee[1],Be=Object(f.useState)(!1),Je=Object(C.a)(Be,2),Ke=Je[0],Re=Je[1],Xe=Object(f.useState)(!1),Ve=Object(C.a)(Xe,2),Ze=Ve[0],Fe=Ve[1];Object(f.useEffect)((function(){Object(v.a)(L.a.mark((function e(){var t;return L.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return ye((function(){return!0})),e.next=3,z()("http://localhost:4000/api/system-info");case 3:t=e.sent,W((function(){return t.data})),ye((function(){return!1}));case 6:case"end":return e.stop()}}),e)})))(),Pe()}),[Ze]),Object(f.useEffect)((function(){Ie||Object(v.a)(L.a.mark((function e(){var t;return L.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Se((function(){return!0})),e.next=3,z()("http://localhost:4000/api/character-info?id="+B.currentImageId);case 3:t=e.sent,c((function(){return t.data})),Se((function(){return!1})),Fe((function(){return!1})),O((function(){return 1})),k((function(){return!1})),xe((function(){return[]})),fe((function(){return B.author}));case 11:case"end":return e.stop()}}),e)})))()}),[Ie,B]),Object(f.useEffect)((function(){Ce||Object(v.a)(L.a.mark((function e(){var t;return L.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return _e((function(){return!0})),e.next=3,z()("http://localhost:4000/api/strokes-list?id="+o.c_id);case 3:t=e.sent,g((function(){return t.data})),_e((function(){return!1}));case 6:case"end":return e.stop()}}),e)})))()}),[Ce,o]),Object(f.useEffect)((function(){O((function(){return 1}))}),[p]),Object(f.useEffect)((function(){Ne||(s((function(){return E.strokes[p[h-1]-1]})),je((function(){return[]})))}),[Ne,h,p]),Object(f.useEffect)((function(){return de}),[]),Object(f.useEffect)((function(){return S(ge)}),[]);var Pe=function(){e.current.getContext("2d").clearRect(0,0,256,256),je((function(){return[]}))},De=function(){if(m)ee.b.warning("\u5df2\u7ecf\u5f55\u5165\u5b8c\u6210\u6240\u6709\u7b14\u753b\uff0c\u8bf7\u8fdb\u5165\u4e0b\u4e00\u4e2a\u5b57");else{var e={id:n.id,name:n.name,record:Oe};Pe(),xe((function(){return[].concat(Object(I.a)(le),[e])})),h<p.length?O((function(e){return e+1})):k(!0)}};return Object(ce.jsxs)(J,{children:[Object(ce.jsxs)(K,{children:[Object(ce.jsxs)(V,{children:[Object(ce.jsx)("span",{style:{fontSize:"25px",margin:"10px"},children:"\u7b14\u753b\u5217\u8868\uff08\u81ea\u52a8\u9009\u62e9\uff09"}),Ne?Object(ce.jsx)(te.a,{tip:"Loading...",children:Object(ce.jsx)(re.a,{message:"strokeList",description:"strokeList strokeList strokeList strokeList strokeList strokeList ",type:"info"})}):Object(ce.jsx)(ne.a.Group,{style:{margin:"17px"},value:p[h-1],size:"large",buttonStyle:"solid",children:E.strokes.map((function(e){return Object(ce.jsx)(ne.a.Button,{value:e.id,onClick:function(){return ee.b.warning("\u76ee\u524d\u4e0d\u5141\u8bb8\u4fee\u6539\u7b14\u987a\uff0c\u8bf7\u4fee\u6539\u914d\u7f6e\u6587\u4ef6\u9002\u914d")},children:e.name},"stroke_".concat(e.id))}))})]}),Object(ce.jsx)(X,{children:Ce?Object(ce.jsx)(te.a,{tip:"Loading...",children:Object(ce.jsx)(re.a,{message:"currentChar",description:"currentChar currentChar currentChar currentChar currentChar currentChar ",type:"info"})}):pe(n,Oe.length)})]}),Object(ce.jsxs)(R,{children:[Ie&&Ce?Object(ce.jsx)(te.a,{tip:"Loading...",children:Object(ce.jsx)(re.a,{message:"sysInfo, currentChar",description:" ",type:"info"})}):Object(ce.jsxs)(q,{children:[Object(ce.jsxs)(Y,{children:[Object(ce.jsxs)(H,{children:["\u6570\u636e\u96c6\uff1a",B.dataSetId,"\u53f7"]}),Object(ce.jsx)(se.a,{style:{width:"40%"},size:"large",placeholder:"\u8bb0\u5f55\u4eba",prefix:Object(ce.jsx)(oe.a,{}),value:ke,onChange:function(e){return fe((function(){return e.target.value}))}})]}),Object(ce.jsxs)(M,{children:[Object(ce.jsx)(ae.a,{status:"processing"}),'\u5f53\u524d\u5b57\uff1a"',o.name,'"\uff0c\u8fdb\u5ea6\uff1a',B.currentImageId,"/",B.total]})]}),Object(ce.jsxs)(Z,{children:[Object(ce.jsxs)(F,{children:[Object(ce.jsx)("span",{children:"\u8bf7\u5728\u7ea2\u6846\u5185\u8fdb\u884c\u6807\u8bb0"}),Object(ce.jsxs)(D,{children:[Ie?Object(ce.jsx)(te.a,{tip:"Loading...",children:Object(ce.jsx)(re.a,{message:"sysInfo",description:"sysInfo sysInfo sysInfo sysInfo ",type:"info"})}):Object(ce.jsx)("img",{alt:"",style:{left:"0px",position:"absolute"},src:"/assets/source/".concat(B.dataSetId,"/").concat(y[B.currentImageId])}),Object(ce.jsx)("canvas",{width:"256px",height:"256px",ref:e,onClick:function(t){return function(t){if(Oe.length+1>n.strokeOrderLength)ee.b.error("\u5173\u952e\u70b9\u6570\u91cf\u6ea2\u51fa\uff0c\u8bf7\u68c0\u67e5\u6570\u91cf");else{var r=e.current,s=r.getBoundingClientRect(),a=s.left,i=s.top,o=t.clientX-a,c=t.clientY-i,d=r.getContext("2d");d.lineWidth=4,d.beginPath(),d.arc(o,c,5,0,2*Math.PI),d.strokeStyle="magenta",d.fillStyle="magenta",d.stroke(),console.log(Oe),je((function(){return[].concat(Object(I.a)(Oe),[[o,c]])}))}}(t)}})]}),Object(ce.jsxs)(G,{children:[Object(ce.jsx)(ie.a,{size:"large",type:"primary",onClick:function(e){return De()},disabled:Oe.length!==n.strokeOrderLength,children:"\u4e0b\u4e00\u4e2a\u7b14\u753b\uff08C\uff09"}),Object(ce.jsx)(ie.a,{size:"large",onClick:Pe,children:" \u6e05\u7a7a\u8be5\u7b14\u753b\u5173\u952e\u70b9\uff08Z\uff09"}),Object(ce.jsx)(ie.a,{size:"large",danger:!0,onClick:function(){Pe(),xe((function(){return[]})),k((function(){return!1})),O((function(){return 1}))},children:"\u91cd\u65b0\u5f00\u59cb\u672c\u5b57\uff08X\uff09"}),Object(ce.jsx)(ie.a,{size:"large",type:"dashed",danger:!0,children:"\u672c\u5b57\u96be\u4ee5\u8fa8\u8ba4\uff0c\u8df3\u8fc7\uff08H\uff09"})]})]}),Object(ce.jsxs)(P,{children:[Object(ce.jsxs)(T,{style:{margin:10,borderBottom:"2px solid black"},children:["\u8f93\u51fa\u7ed3\u679c",Object(ce.jsx)("br",{})]}),Object(ce.jsx)("div",{style:{overflow:"scroll",height:"340px",width:"100%"},children:Ne?Object(ce.jsx)(te.a,{tip:"strokeList"}):le.map((function(e,t){return console.log(e),Object(ce.jsxs)("div",{style:{fontSize:"18px",display:"flex",flexDirection:"column",alignItems:"center"},children:[Object(ce.jsxs)("span",{children:["(",t+1,") ",e.name]}),Object(ce.jsx)("span",{style:{margin:5,borderBottom:"1px solid gray"},children:Object(ce.jsx)("div",{children:e.record.map((function(e,t){return Object(ce.jsxs)("span",{children:[" (",e[0],", ",e[1],")"]},t)}))})})]},t)}))}),Object(ce.jsxs)("div",{children:[Object(ce.jsx)(Q.a,{style:{margin:"10px"},type:"circle",status:Ze?null:"active",percent:m?100:(h-1)/p.length*100,width:80}),Ke?Object(ce.jsx)(te.a,{}):null]}),Object(ce.jsx)(ie.a,{size:"large",type:"primary",onClick:function(){Re(!0),Object(v.a)(L.a.mark((function e(){var t,r;return L.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t={dataSetId:B.dataSetId,currentImageId:B.currentImageId,author:ke,charId:o.id,charName:o.name,result:le},e.next=3,z.a.post("http://localhost:4000/api/submit",t);case 3:r=e.sent,console.log(r.data),"success"===r.data&&Fe((function(){return!0})),Re(!1);case 7:case"end":return e.stop()}}),e)})))()},disabled:!m,children:"\u63d0\u4ea4\u672c\u5b57\uff08V\uff09"})]})]})]})]})};w.a.render(Object(ce.jsx)(xe,{}),document.getElementById("root"))},70:function(e){e.exports=JSON.parse('{"strokes":[{"id":1,"name":"\u6a2a","exampleUrl":"stroke-01.png","strokeOrderLength":2,"strokeOrderImageUrl":"stroke-01.png"},{"id":2,"name":"\u7ad6","exampleUrl":"stroke-02.png","strokeOrderLength":2,"strokeOrderImageUrl":"stroke-02.png"},{"id":3,"name":"\u6487","exampleUrl":"stroke-03.png","strokeOrderLength":2,"strokeOrderImageUrl":"stroke-03.png"},{"id":4,"name":"\u70b9","exampleUrl":"stroke-04.png","strokeOrderLength":2,"strokeOrderImageUrl":"stroke-04.png"},{"id":5,"name":"\u6a2a\u6298","exampleUrl":"stroke-05.png","strokeOrderLength":3,"strokeOrderImageUrl":"stroke-05.png"},{"id":6,"name":"\u637a","exampleUrl":"stroke-06.png","strokeOrderLength":2,"strokeOrderImageUrl":"stroke-06.png"},{"id":7,"name":"\u63d0","exampleUrl":"stroke-07.png","strokeOrderLength":2,"strokeOrderImageUrl":"stroke-07.png"},{"id":8,"name":"\u6a2a\u6298\u94a9","exampleUrl":"stroke-08.png","strokeOrderLength":4,"strokeOrderImageUrl":"stroke-08.png"},{"id":9,"name":"\u7ad6\u94a9","exampleUrl":"stroke-09.png","strokeOrderLength":3,"strokeOrderImageUrl":"stroke-09.png"},{"id":10,"name":"\u6a2a\u6487","exampleUrl":"stroke-10.png","strokeOrderLength":3,"strokeOrderImageUrl":"stroke-10.png"},{"id":11,"name":"\u6a2a\u6c9f","exampleUrl":"stroke-11.png","strokeOrderLength":3,"strokeOrderImageUrl":"stroke-11.png"},{"id":12,"name":"\u7ad6\u5f2f\u94a9","exampleUrl":"stroke-12.png","strokeOrderLength":4,"strokeOrderImageUrl":"stroke-12.png"},{"id":13,"name":"\u637a\u6298","exampleUrl":"stroke-13.png","strokeOrderLength":3,"strokeOrderImageUrl":"stroke-13.png"},{"id":14,"name":"\u7ad6\u63d0","exampleUrl":"stroke-14.png","strokeOrderLength":3,"strokeOrderImageUrl":"stroke-14.png"},{"id":15,"name":"\u7ad6\u6298","exampleUrl":"stroke-15.png","strokeOrderLength":3,"strokeOrderImageUrl":"stroke-15.png"},{"id":16,"name":"\u6487\u70b9","exampleUrl":"stroke-16.png","strokeOrderLength":3,"strokeOrderImageUrl":"stroke-16.png"},{"id":17,"name":"\u7ad6\u6298\u6298\u94a9","exampleUrl":"stroke-17.png","strokeOrderLength":5,"strokeOrderImageUrl":"stroke-17.png"},{"id":18,"name":"\u659c\u94a9","exampleUrl":"stroke-18.png","strokeOrderLength":3,"strokeOrderImageUrl":"stroke-18.png"},{"id":19,"name":"\u6a2a\u6487\u5f2f\u94a9","exampleUrl":"stroke-19.png","strokeOrderLength":5,"strokeOrderImageUrl":"stroke-19.png"},{"id":20,"name":"\u6a2a\u6298\u63d0","exampleUrl":"stroke-20.png","strokeOrderLength":4,"strokeOrderImageUrl":"stroke-20.png"},{"id":21,"name":"\u5f2f\u94a9","exampleUrl":"stroke-21.png","strokeOrderLength":3,"strokeOrderImageUrl":"stroke-21.png"},{"id":22,"name":"\u6a2a\u6298\u5f2f\u94a9","exampleUrl":"stroke-22.png","strokeOrderLength":5,"strokeOrderImageUrl":"stroke-22.png"},{"id":23,"name":"\u7ad6\u5f2f","exampleUrl":"stroke-23.png","strokeOrderLength":3,"strokeOrderImageUrl":"stroke-23.png"},{"id":24,"name":"\u6a2a\u6298\u5f2f","exampleUrl":"stroke-24.png","strokeOrderLength":4,"strokeOrderImageUrl":"stroke-24.png"},{"id":25,"name":"\u6a2a\u6298\u6298\u6298\u94a9","exampleUrl":"stroke-25.png","strokeOrderLength":6,"strokeOrderImageUrl":"stroke-25.png"},{"id":26,"name":"\u6a2a\u6298\u94a9","exampleUrl":"stroke-26.png","strokeOrderLength":4,"strokeOrderImageUrl":"stroke-26.png"},{"id":27,"name":"\u6a2a\u6298\u6298\u6487","exampleUrl":"stroke-27.png","strokeOrderLength":5,"strokeOrderImageUrl":"stroke-27.png"},{"id":28,"name":"\u7ad6\u6298\u6487","exampleUrl":"stroke-28.png","strokeOrderLength":4,"strokeOrderImageUrl":"stroke-28.png"},{"id":29,"name":"\u7ad6\u6298\u6298","exampleUrl":"stroke-29.png","strokeOrderLength":4,"strokeOrderImageUrl":"stroke-29.png"},{"id":30,"name":"\u6a2a\u6298\u6298","exampleUrl":"stroke-30.png","strokeOrderLength":4,"strokeOrderImageUrl":"stroke-30.png"},{"id":31,"name":"\u6a2a\u6298\u6298\u6298","exampleUrl":"stroke-31.png","strokeOrderLength":5,"strokeOrderImageUrl":"stroke-31.png"}]}')},87:function(e){e.exports=JSON.parse('{"a":[{"fileName":"1.png","id":1,"c_id":1,"height":256,"width":256},{"fileName":"2.png","id":2,"c_id":1,"height":256,"width":256},{"fileName":"3.png","id":3,"c_id":1,"height":256,"width":256},{"fileName":"1.png","id":4,"c_id":1,"height":256,"width":256},{"fileName":"2.png","id":5,"c_id":1,"height":256,"width":256},{"fileName":"3.png","id":6,"c_id":1,"height":256,"width":256}]}')}},[[141,1,2]]]);
//# sourceMappingURL=main.2a2ffcad.chunk.js.map